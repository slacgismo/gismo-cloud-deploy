# AWS parameters used for cli.
aws_config:
  cluster_file: "./config/eks/cluster.yaml"
  cluster_name: "None"                    # Generated from cluster_file
  nodegroup_name: "None"                  # Generated from cluster_file
  instanceType: "None"                    # Generated from cluster_file


  eks_nodes_number: 1                     # Total ec2 instances
  scale_eks_nodes_wait_time : 90          # in second
  interval_of_check_dynamodb_in_second: 3      # in second
  interval_of_total_wait_time_of_dynamodb: 300 # in second.
  interval_of_wait_pod_ready: 90          # in second

  # ec2_bastion_tags:
  # - Key: Name
  #   Value: gcd_eks
  # - Key: project
  #   Value: pvinsight
  # - Key: manageBy
  #   Value: boto3
  # ec2_bastion_tags: [
  #       {"Key": "Name", "Value": "gcd_eks"}, 
  #       {"Key": "project", "Value": "pvinsight"},
  #       {"Key": "manageBy", "Value": "boto3"}
  #   ]
  # ec2_image_id: "ami-0568773882d492fc8"
  # ec2_instance_type: "t2.large" 
  ec2_bastion_saved_config_file: "./config/ec2/ec2-config.yaml"
  # ec2_instance_id: "i-02785df1327c08400"  
  # SecurityGroupIds:  ['sg-0009d2a9a2498f600']
  # ec2_instance_type: "t2.large" 


# Parameters used for cli in k8s config.
services_config_list:
  worker:
      desired_replicas: 1 # Define how many workers run parallel in k8s. The generated workers spread evenly among eks nodes.
      imagePullPolicy: "Always"
      deployment_file: "./config/k8s/worker.deployment.yaml"
      service_file: ""
      image_name: "worker"
      image_tag: "latest"
  server:
      desired_replicas: 1
      imagePullPolicy: "Always"
      deployment_file: "./config/k8s/server.deployment.yaml"
      service_file: "./config/k8s/server.services.yaml"
      image_name: "server"
      image_tag: "latest"
  redis:
      desired_replicas: 1
      imagePullPolicy: "Always"
      deployment_file: "./config/k8s/redis.deployment.yaml"
      service_file: "./config/k8s/redis.services.yaml"
      image_name: "redis"
      image_tag: "latest"

  rabbitmq:
      desired_replicas: 1
      imagePullPolicy: "Always"
      deployment_file: "./config/k8s/rabbitmq.deployment.yaml"
      service_file: "./config/k8s/rabbitmq.services.yaml"
      image_name: "rabbitmq"
      image_tag: "latest"

  celeryflower:
      desired_replicas: 1
      imagePullPolicy: "Always"
      deployment_file: "./config/k8s/flower.deployment.yaml"
      service_file: "./config/k8s/flower.services.yaml"
      image_name: "celeryflower"
      image_tag: "latest"


# Parameters pass to woker container.
worker_config:
  solver:
    solver_name: "MOSEK"
    saved_solver_bucket: "pv.insight.test"
    solver_lic_local_path: "./config/license"
    solver_lic_target_path: "/root/mosek"     # This location inside worker container is requires by MOSEK
    saved_temp_path_in_bucket: "lic_temp"     # Temporaty file location on S3 lic_temp/<user_id>.it grenerated in run-time and deleted after program completed.
    solver_lic_file_name: "mosek.lic"
  
  data_bucket: "pv.insight.nrel"
  data_file_type: ".csv"                 # Bucket contains origin data files.
  default_process_files: ["PVO/PVOutput/46851.csv","PVO/PVOutput/11106.csv","PVO/PVOutput/10010.csv"]   # Default process files. If users do not use option -n command.
  process_column_keywords: ["Power(W)"]                   # partial match. Process all matched column name. Test colmun: "WS_5" "WS_5_DateUTC"
  saved_bucket: "pv.insight.test"                         # Bucket of saved files.
  saved_path_aws: "results"                               # Path of saved files in bucket
  saved_path_local: "results"
  acccepted_idle_time: 360
  code_template_folder: "code-templates-solardatatools" # Code blocks folder example: "code-templates-solardatatools" (If you change here, you have to change `worker_dockerfile_folder` accordingly)
  filename: ['results.csv','logs.csv','errors.csv','performance.txt','runtime.png']
  files_local : {}
  files_aws : {}
  curr_process_file : None      # It's a hint column that is generated in the CLI run-time.
  curr_process_column : None    # It's a hint column that is generated in the CLI run-time.
  aws_access_key : None         # It's a hint column that is generated in the CLI run-time.
  aws_secret_access_key : None  # It's a hint column that is generated in the CLI run-time.
  aws_region : None             # It's a hint column that is generated in the CLI run-time.
  user_id : None                # It's a hint column that is generated in the CLI run-ime.
  repeat_number_per_round: 1    # Repeat overall tasks per round before run end services.
  is_celeryflower_on: False     # Turn of / off flower 
  num_files_per_server_list : None # It's a hint column that is generated in the CLI run-ime.
  num_worker_pods_per_namespace: 8
  k8s_namespace_list: [] # It's a hint column that is generated in the CLI run-ime.